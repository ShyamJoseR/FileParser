sources:
  - source: source_1
    size: 40
    records:
      - type: record_1
        fields:
          - name: id
            length: 5
            type: INTEGER
            required: true
          - name: name
            length: 15
            type: STRING
            required: true
          - name: email
            length: 15
            type: STRING
            regex: '^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$'
          - name: status
            length: 1
            type: STRING
          - name: amount
            length: 9
            type: DECIMAL

      - type: record_2
        fields:
          - name: type_code
            length: 2
            type: STRING
            required: true
          - name: field_1
            length: 5
            type: STRING
          - name: field_2
            length: 5
            type: STRING
          - name: field_3
            length: 5
            type: STRING
          - name: field_4
            length: 5
            type: STRING
          - name: field_5
            length: 5
            type: STRING
          - name: field_6
            length: 3
            type: INTEGER
          - name: field_7
            length: 5
            type: DECIMAL

  - source: source_2
    size: 50
    records:
      - type: header
        fields:
          - name: record_type
            length: 2
            type: STRING
            required: true
          - name: version
            length: 3
            type: INTEGER
          - name: timestamp
            length: 20
            type: STRING
          - name: record_count
            length: 10
            type: INTEGER
          - name: reserved
            length: 15
            type: STRING

      - type: data
        fields:
          - name: rec_type
            length: 3
            type: STRING
          - name: key
            length: 10
            type: STRING
          - name: value
            length: 20
            type: STRING
          - name: checksum
            length: 8
            type: STRING
          - name: padding
            length: 9
            type: STRING

